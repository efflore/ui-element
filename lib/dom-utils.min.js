const t=t=>void 0!==t,e=(t,e,o)=>t&&null!==e&&e!==o,o=(t,e)=>{Array.from(t.childNodes).filter((t=>t.nodeType!==Node.COMMENT_NODE)).forEach((t=>t.remove())),t.append(document.createTextNode(e))},s=(e,o,s)=>t(s)?e[o]=s:delete e[o],r=(e,o,s)=>"boolean"==typeof s?e.toggleAttribute(o,s):t(s)?e.setAttribute(o,s):e.removeAttribute(o),i=(t,e,o)=>t.classList.toggle(e,o),l=(e,o,s)=>t(s)?e.style.setProperty(o,s):e.style.removeProperty(o),a=(t,s)=>e(t,s,t.textContent)&&o(t,s),c=(t,o,r)=>e(t,r,t[o])&&s(t,o,r),n=(t,o,s)=>e(t,s,t.getAttribute(o))&&r(t,o,s),u=(t,o,s)=>e(t,s,t.classList.contains(o))&&i(t,o,s),d=(t,o,s)=>e(t,s,t.style[o])&&l(t,o,s),f=e=>{const a="ui-text",c="ui-prop",n="ui-attr",u="ui-class",d="ui-style",f=e.shadowRoot||e;[a,c,n,u,d].forEach((p=>(p=>{f.querySelectorAll(`*[${p}]`).forEach((f=>{if(p===a){const s=f.getAttribute(p),r=f.textContent;e.set(s,r,!1),e.effect((i=>{if(e.has(s)){const l=e.get(s);i(f,o).add([t(l)?l:r])}}))}else{const t=(t,e,o)=>({[c]:()=>e[o],[n]:()=>e.getAttribute(o),[u]:()=>e.classList.contains(o),[d]:()=>e instanceof HTMLElement&&e.style[o]}[t](e,o)),o={[c]:s,[n]:r,[u]:i,[d]:l};f.getAttribute(p).split(";").map((t=>t.trim())).forEach((s=>{let[r,i]=s.split(":").map((t=>t.trim()));!i&&(i=r),e.set(i,t(p,f,r),!1),e.effect((t=>{e.has(i)&&t(f,o[p]).add([r,e.get(i)])}))}))}f.removeAttribute(p)}))})(p)))};export{a as setText,c as setProp,n as setAttr,u as setClass,d as setStyle,f as autoEffects};