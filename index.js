import{m as t,c as s,u as i,d as a,f as c,g as n,h as r}from"./dist/chunks/cause-effect-lFXGeInZ.js";export{e as effect}from"./dist/chunks/cause-effect-lFXGeInZ.js";const o="context-request";class h extends Event{context;callback;subscribe;constructor(t,s,e=!1){super(o,{bubbles:!0,composed:!0}),this.context=t,this.callback=s,this.subscribe=e}}class u extends HTMLElement{static registry=customElements;static attributeMap={};static consumedContexts;static providedContexts;static define(t){try{this.registry.get(t)||this.registry.define(t,this)}catch(t){console.error(t)}}#t=new Map;attributeChangedCallback(e,i,a){if(a===i)return;const c=this.constructor.attributeMap[e],n=t(a);this.set(e,s(c)?c(n,this,i):n)}connectedCallback(){const t=this.constructor,e=t.consumedContexts||[];for(const t of e)this.set(String(t),void 0);setTimeout((()=>{for(const t of e)this.dispatchEvent(new h(t,(s=>this.set(String(t),s))))}));const i=t.providedContexts||[];i.length&&this.addEventListener(o,(t=>{const{context:e,callback:a}=t;i.includes(e)&&s(a)&&(t.stopPropagation(),a(this.#t.get(String(e))))}))}has(t){return this.#t.has(t)}get(t){return i(this.#t.get(t))}set(t,s,e=!0){if(this.#t.has(t)){if(e){const e=this.#t.get(t);n(e)&&e.set(s)}}else this.#t.set(t,a(s)?s:c(s))}delete(t){return this.#t.delete(t)}async pass(t,e){if(await this.constructor.registry.whenDefined(t.localName),!r(t,"set"))throw new TypeError("Expected UIElement");for(const[i,n]of Object.entries(e))t.set(i,a(n)?n:s(n)?c(n):this.#t.get(n))}signal(t){return this.#t.get(t)}}export{u as default};
