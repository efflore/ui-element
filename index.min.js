const t=t=>"function"==typeof t;let e;const s=t=>{const s={get:()=>{const a=e;e=s;const n=t();return e=a,n}};return s};export default class extends HTMLElement{static define(t,e=customElements){try{e.get(t)||e.define(t,this)}catch(t){console.error(t)}}attributeMap;#t=new Map;attributeChangedCallback(e,s,a){if(a!==s){const n=this.attributeMap?.get(e),[o,r]=Array.isArray(n)?n:[e,n],i={boolean:t=>"string"==typeof t,integer:t=>parseInt(t,10),number:t=>parseFloat(t)},l=t(r)?r:i[r];this.set(o,l?l(a,s):a)}}has(t){return this.#t.has(t)}get(t){return this.#t.get(t)?.get()}set(a,n,o=!0){if(this.#t.has(a)){const e=this.#t.get(a);o&&t(e.set)&&e.set(n)}else{const o="object"==typeof n&&t(n.get)?n:t(n)?s(n):(s=>{const a=new WeakMap,n=t=>(!a.has(t)&&a.set(t,new Set),a.get(t)),o={get:()=>(e&&n(o).add(e),s),set:e=>{const a=s;if(s=t(e)?e(a):e,!Object.is(s,a))for(const t of n(o))t.get()}};return o})(n);this.#t.set(a,o)}}delete(t){return this.#t.delete(t)}pass(e,s,a=customElements){(async()=>{await a.whenDefined(e.localName);for(const[a,n]of s)e.set(a,t(n)?{get:n}:this.#t.get(n))})()}effect(t){requestAnimationFrame((()=>s(t).get()))}updateText(t,e){null!==e&&e!==t.textContent&&(Array.from(t.childNodes).filter((t=>t.nodeType!==Node.COMMENT_NODE)).forEach((t=>t.remove())),t.append(document.createTextNode(e)))}updateProperty(t,e,s){null!==s&&s!==t[e]&&(void 0===s?delete t[e]:t[e]=s)}updateAttribute(t,e,s){null!==s&&s!==t.getAttribute(e)&&(void 0===s?t.removeAttribute(e):t.setAttribute(e,s))}toggleClass(t,e,s){null!==s&&s!==t.classList.contains(e)&&t.classList.toggle(e,s)}updateStyle(t,e,s){null!==s&&(void 0===s?t.style.removeProperty(e):t.style.setProperty(e,s))}}